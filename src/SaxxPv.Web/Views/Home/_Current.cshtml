@model SaxxPv.Web.ViewModels.Home.DayViewModel

@if (Model.IsCurrentDay)
{
    <div style="margin-top:1rem; text-align:center;">
        <h3>Currently</h3>
        <i class="fad fa-lightbulb-on @(Model.CurrentLoad >= 100 ? "fa-beat-fade" : "")"></i>
        -@((Model.CurrentLoad / 1000d)?.ToString("N1")) kW
        <br/>

        <i class="fad fa-solar-panel @(Model.CurrentPv  >= 100 ? "fa-beat-fade" : "")"></i>
        +@((Model.CurrentPv / 1000d)?.ToString("N1")) kW
        <br/>

        @if (Model.CurrentGrid <= 0)
        {
            <i class="fad fa-utility-pole-double @(Model.CurrentGrid < 100 ? "fa-beat-fade" : "")"></i>
            <i class="fad fa-arrow-right-long @(Model.CurrentGrid < 100 ? "fa-beat" : "")"></i>
            <i class="fad fa-house @(Model.CurrentGrid < 100 ? "fa-beat-fade" : "")"></i>
            <b>@((Model.CurrentGrid / 1000d)?.ToString("N1")) kW</b>
            <small>(@Model.CurrentGridPrice?.ToString("N2") €/h)</small>
        }
        else
        {
            <i class="fad fa-solar-panel @(Model.CurrentGrid >= 100 ? "fa-beat-fade" : "")"></i>
            <i class="fad fa-arrow-right-long @(Model.CurrentGrid >= 100 ? "fa-beat" : "")"></i>
            <i class="fad fa-utility-pole-double @(Model.CurrentGrid >= 100 ? "fa-beat-fade" : "")"></i>
            <b>+@((Model.CurrentGrid / 1000d)?.ToString("N1")) kW</b>
            <small>(+@Model.CurrentGridPrice?.ToString("N2") €/h)</small>
        }

        <br/>
        @if (Model.CurrentBattery <= 0)
        {
            <i class="fad fa-battery @(Model.CurrentBattery < 100 ? "fa-beat-fade" : "")"></i>
            <i class="fad fa-arrow-right-long @(Model.CurrentBattery < 100 ? "fa-beat" : "")"></i>
            <i class="fad fa-house @(Model.CurrentBattery < 100 ? "fa-beat-fade" : "")"></i>
            <b>@((Model.CurrentBattery / 1000d)?.ToString("N1")) kW</b>
        }
        else
        {
            <i class="fad fa-solar-panel @(Model.CurrentBattery >= 100 ? "fa-beat-fade" : "")"></i>
            <i class="fad fa-arrow-right-long @(Model.CurrentBattery >= 100 ? "fa-beat" : "")"></i>
            <i class="fad fa-battery @(Model.CurrentBattery >= 100 ? "fa-beat-fade" : "")"></i>
            <b>+@((Model.CurrentBattery / 1000d)?.ToString("N1")) kW</b>
        }

        <br/>
        <i class="fad fa-battery"></i>
        @(Model.CurrentBatterySoc?.ToString("N0")) %
    </div>
}
